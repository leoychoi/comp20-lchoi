<!DOCTYPE html>

<html>

<head>
  <title>Assignment 4: Security</title>
  <link rel="stylesheet" type="text/css" href="style.css"/>
</head>

<body>
<div id="content">
  <h1>Assignment 4: Security Assessment</h1>
  <p>by Leo Choi, 12/5/14</p>

  <h2>Introduction</h2>
  <p>The product being assessed is a web application server that maintains geolocation check-ins using a Mongo database. It also provides an API that can be used to retrieve the stored data.</p>
  <p>The assessment below provides an analysis of security issues in the app and general improvements, along with possible solutions to the problems.</p>

  <h2>Methodology</h2>
  <p>Testing was initially performed with the live site available at <a href="http://infinite-citadel-7444.herokuapp.com">http://infinite-citadel-7444.herokuapp.com</a>. I made requests to the API with my own javascript code and also used Tamper Data for Firefox to analyze requests and responses. Afterwards, I looked at the actual source code in hopes of finding further vulnerabilities in the application.</p>

  <h2>Abstract of Findings</h2>
  <p>Most of the security vulnerabilities in the application are a result of failing to check the input for correctness. Not only is this insecure because it allows malicious code to be run through the browser, but it also defeats the purpose of allowing API requests, as any data the application returns cannot be trusted.</p>

  <h2>Issues Found</h2>
  <p>1. Cross-Site Scripting
    <ul>
      <li><span class="bold">Issue:</span> Possible to inject scripts into the database which are then run client-side.</li>
      <li><span class="bold">Location:</span> /sendLocation POST requests</li>
      <li><span class="bold">Severity:</span> <span class="high">High.</span> This issue allows almost any code to be run client-side upon visiting the index page, making anybody who visits the page vulnerable to attack. Since it is also stored in the database, it would also be sent to anybody who requests database data through the API.</li>
      <li><span class="bold">Description:</span> Data sent by POST request through the /sendLocation path is not escaped, which allows JavaScript or HTML to be stored and executed when it is displayed on a client's browser. There is no sanitization of input.</li>
      <li><span class="bold">Proof of Vulnerability:</span> <img src="/scriptinject.png" alt="Inject scripts" title="JavaScript injected through POST" /> <img src="/iframeinject.png" alt="Inject iframe" title="iframe injected through POST" /></li>
      <li><span class="bold">Resolution:</span> </li>
  </p>

  <p>1. Cross-Site Scripting
    <ul>
      <li><span class="bold">Issue:</span> Possible to inject scripts into the database which are then run client-side.</li>
      <li><span class="bold">Location:</span> /sendLocation POST requests</li>
      <li><span class="bold">Severity:</span> <span class="high">High</span> </li>
      <li><span class="bold">Description:</span> </li>
      <li><span class="bold">Proof of Vulnerability:</span> </li>
      <li><span class="bold">Resolution:</span> </li>
  </p>

  <p>1. Cross-Site Scripting
    <ul>
      <li><span class="bold">Issue:</span> Possible to inject scripts into the database which are then run client-side.</li>
      <li><span class="bold">Location:</span> /sendLocation POST requests</li>
      <li><span class="bold">Severity:</span> <span class="high">High</span> </li>
      <li><span class="bold">Description:</span> </li>
      <li><span class="bold">Proof of Vulnerability:</span> </li>
      <li><span class="bold">Resolution:</span> </li>
  </p>
  
</div>  
</body>

</html>
